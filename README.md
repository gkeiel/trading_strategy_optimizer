# Trading Strategy Optimizer

This project provides a Python script for **backtesting and heuristic optimization of trading strategies based on technical indicators**, being applied to spot market time series.

As main advantages, the project provides:
- **simulated annealing algorithm** to perform a global search for the best strategies. 
- creation of **spreadsheets and figures with performance results** from backtesting and optimization procedure.
- **open-source code**, allowing **flexibility in adjusting the search space** and **implementing technical indicators**.


## ğŸ—‚ Project Structure

The project is organized around a modular pipeline, where each class has a responsibility:

- **Loader** handles configuration files for tickers and market settings.
- **Indicator** applies technical indicators (MA crossover, Bollinger Bands, MACD) and generates trading signals.
- **Backtester** evaluates strategies on historical data and computes performance metrics.
- **Optimizer** searches the indicator parameter space using heuristic optimization.
- **Strategies** scores and ranks candidate strategies based on configurable objective functions.


The project has the following structure:

 ```text
 trading_strategy_optimizer/ 
 â”‚  
 â”œâ”€â”€ trading_strategy_optimizer.py 
 |  
 â”œâ”€â”€ core/   
 â”‚   â”œâ”€â”€ __init__.py  
 â”‚   â”œâ”€â”€ loader.py  
 â”‚   â”œâ”€â”€ indicator.py  
 â”‚   â”œâ”€â”€ backtester.py  
 â”‚   â”œâ”€â”€ optimizer.py  
 â”‚   â”œâ”€â”€ strategies.py  
 â”‚   â”œâ”€â”€ exporter.py  
 â”‚   â””â”€â”€ notifier.py  
 â”‚  
 â”œâ”€â”€ config/  
 â”‚   â”œâ”€â”€ config.json  
 â”‚   â””â”€â”€ tickers.json  
 â”‚  
 â”œâ”€â”€ data/  
 â”‚   â””â”€â”€ results/ 
 |       â”œâ”€â”€ best_results.xlsx 
 â”‚       â”œâ”€â”€ strategies.csv  
 â”‚       â”œâ”€â”€ backtests.png   
 â”‚       â””â”€â”€ logs.txt   
 â”‚  
 â”œâ”€â”€ requirements.txt  
 â”œâ”€â”€ README.md  
 â””â”€â”€ LICENSE  
 ```

## ğŸ“ˆ Available Strategies

The project currently supports the following indicators:
- **Moving Average crossover** using:
  - **SMA (Simple Moving Average)**;
  - **EMA (Exponential Moving Average)**;
  - **WMA (Weighted Moving Average)**.
- **Bollinger bands**;
- **Moving Average Convergence/Divergence (MACD)**.

## âš™ï¸ How to Use

1. **Install dependencies**:
   ```bash
    pip install pandas
    pip install numpy
    pip install yfinance
    pip install requests
    ```

2. **Configure tickers and indicators**
   - In `config/config.json` add the configuration parameters.
   - In `config/tickers.json` add the stock symbols to analyze, one per line.

3. **Run the script**
   - To run the optimization with backtests, execute:
     ```bash
     python trading_strategy_optimizer.py
     ```

## ğŸ§© Output Examples

- **Backtest chart with SMA crossover**
  
  After running `trading_strategy_optimizer.py` optimization it generates strategy charts, spreadsheets for each ticker, and a summary with best results. The generated figures follow the example below:

  <p align="center">
     <img width="733" height="395" alt="TSLA_SMA_20_30" src="https://github.com/user-attachments/assets/cf810a16-0d6e-4f8d-89ad-51303f7a24b8" />
     <img width="733" height="395" alt="TSLA_SMA_20_30_backtest" src="https://github.com/user-attachments/assets/8a3ace24-e11c-42fb-a812-37a192b757bc" />
  </p>
  
  Notice that the asset ends the evaluated periodo at 1.75 times its initial price, so a Buy & hold strategy would yield 175% return. On the other hand, strictly following the SMA 20/30 strategy would produce above 250% return over the same period, excluding any trasactions fees. Furthermore, short selling operations are ignored by default in calculations assuming there exist borrowing fees involved, though they can easily be enabled in the backtest.

  
## ğŸ“Œ Notes

âš ï¸ We are not responsible for any financial losses resulting from the use of the strategies or signals generated by this code.

- Contributions are welcome! Open an issue or submit a pull request.
- Future improvements and new features may be added, including:
  - migration to object-oriented programming (OOP); âœ…
  - improve objective function with new weights and presets; âœ…
  - improve optimization techniques;
  - file saving in cloud.

## ğŸ¤ Support

This repository is independently maintained, only in free time. If you find the code useful and wish to support its continued development, consider donating:

- [PayPal](https://www.paypal.com/donate/?hosted_button_id=BF6E8J7P32KWE)  

Your support helps keep the project alive and evolving, by adding new optimization methods, improvements and documentation.
